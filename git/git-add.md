# git add

根据目标文件的状态不同，此命令的效果也不同，可以用来：开始跟踪新文件、把已跟踪的文件放到暂存区还能用于合并时把有冲突的文件标记为已解决状态

```
git add file1 file2 ...
```
我们的.git目录同级目录被称为**工作区**。

对于工作区中新创建的文件，此时文件属于`untracked`状态，通过git add开始追踪新文件，并放到暂存区。

对于已追踪的文件，此时文件处于`modified`状态，通过git add将此时文件的改动放到暂存区。

对于有冲突的文件，解决冲突后，git add添加冲突文件，然后继续git merge --continue即可。

## 什么是暂存区
在版本库.git目录下，有一个index文件。

当执行git status命令（或者git diff命令）扫描工作区改动的时候，先依据.git/index文件中记录的（工作区跟踪文件的）时间戳、长度等信息判断工作区文件是否改变。如果工作区的文件时间戳改变，说明文件的内容可能被改变了，需要要打开文件，读取文件内容，和更改前的原始文件相比较，判断文件内容是否被更改。如果文件内容没有改变，则将该文件新的时间戳记录到.git/index文件中。因为判断文件是否更改，使用时间戳、文件长度等信息进行比较要比通过文件内容比较要快的多，所以Git这样的实现方式可以让工作区状态扫描更快速的执行，这也是Git高效的因素之一。